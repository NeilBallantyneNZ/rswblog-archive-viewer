<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>RSW Blog Archive Viewer</title>
  <style>
    body, html { margin: 0; padding: 0; height: 100%; }
    iframe { width: 100%; height: 100%; border: none; }
    .header {
      background: #f5f5f5;
      padding: 15px;
      text-align: center;
      font-family: sans-serif;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    .loading {
      text-align: center;
      padding: 20px;
      font-family: sans-serif;
      color: #666;
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>RSW Blog Archive Viewer</h1>
    <p>Preserved web archive of the RSW blog (2015â€“2025)</p>
  </div>
  
  <div class="loading" id="loading">
    Loading archive...
  </div>
  
  <iframe id="replay-iframe" style="display:none;"></iframe>

  <script>
    // Full public URL of your .wacz file
    const WACZ_URL = 'https://pub-9129e4ace37c47eb87cf7f344b693254.r2.dev/rswblog-archive-2025.wacz';

    function loadArchive() {
      // If the URL is missing, stop
      if (!WACZ_URL) {
        alert('WACZ_URL is not configured. Please provide a valid URL.');
        return;
      }

      const iframe = document.getElementById('replay-iframe');
      const loading = document.getElementById('loading');

      // Build ReplayWeb.page embed URL
      const replayUrl = `https://replayweb.page/replay/?source=${encodeURIComponent(WACZ_URL)}&embed=replayonly`;
      iframe.src = replayUrl;

      // Show iframe after setting src
      iframe.onload = () => {
        loading.style.display = 'none';
        iframe.style.display = 'block';
      };

      // Handle iframe load errors
      iframe.onerror = () => {
        loading.innerHTML = `
          Failed to load archive. 
          Please check that the WACZ file URL is correct and publicly accessible.
        `;
      };
    }

    // Start loading when page is ready
    window.addEventListener('load', loadArchive);
  </script>
</body>
</html>
